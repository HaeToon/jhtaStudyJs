<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LottoPick</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/lotto.css" />
  </head>
  <body>
    <div class="btns">
      <button class="btn">01</button>
      <button class="btn">02</button>
      <button class="btn">03</button>
      <button class="btn">04</button>
      <button class="btn">05</button>
    </div>
    <div class="paper-wrap">
      <div class="paper">
        <ul class="list"></ul>
      </div>
    </div>
    <script>
      let a = 10;
      let b = 20;
      let c;
      c = a;
      a = b;
      b = c;

      const makeLotto = function () {
        const nums = []; //빈배열
        const selectedNums = []; //뽑기위한 배열
        for (let i = 0; i < 45; i++) {
          // nums[i] = i + 1;
          nums.push(i + 1); //뒤에서부터 밀어넣기 = 순서대로 1~45
          // nums.unshift(i + 1); //앞에서부터 밀어넣기 = 역순으로 45~1
        }
        for (let i = 0; i < 6; i++) {
          selectedNums.push(
            nums.splice(Math.floor(Math.random() * nums.length), 1).pop()
          );
        }
        // console.log(selectedNums);
        //call back function 익명함수 function() 나중에 호출됨 call back
        // js sort는 문자정렬을함  1,21,3,4,5,6, = 1,3,4,5,6,21 x  1,21,3,4,5,6 ㅇ
        // 문자정렬을 하지않으러면 콜백함수를 써야함
        // console.log([1, 21, 3, 4, 5].sort());
        selectedNums.sort(function (a, b) {
          return a - b; //오름차순정렬
        });
        // selectedNums.sort( (a, b) => {
        //  return a - b ;
        //  } // js에선 function을 지우고  뒤에 =>로 변경가능 위의문장과 같은 내용
        // selectedNums.sort( (a, b) => a - b); 위의 내용과 같은 내용
        // return b - a; //내림차순정렬
        // if (a > b) {
        //   return 1;
        // } else if (a < b) {
        //   return -1;
        // } else {
        //   return 0;
        // }

        // console.log(selectedNums);

        /*
      let aa = 10;
      아래는 모두 같은 내용
      aa = aa + 1;
      aa += 1;
      aa ++
        */
        //번호에따라 li의 클래스를 다르게 설정하기
        for (let i = 0; i < 6; i++) {
          // list.innerHTML += /* list.innerHTML +*/ `<li>${selectedNums[i]}</li>`;
          const ball = selectedNums[i];
          let color;
          // if (ball <= 10) {
          //   list.innerHTML += `<li class="yellow">${ball}</li>`;
          // } else if (ball <= 20) {
          //   list.innerHTML += `<li class="blue">${ball}</li>`;
          // } else if (ball <= 30) {
          //   list.innerHTML += `<li class="red">${ball}</li>`;
          // } else if (ball <= 40) {
          //   list.innerHTML += `<li class="gray">${ball}</li>`;
          // } else if (ball <= 45) {
          //   list.innerHTML += `<li class="green">${ball}</li>`;
          // }
          if (ball <= 10) {
            color = "yellow";
          } else if (ball <= 20) {
            color = "blue";
          } else if (ball <= 30) {
            color = "red";
          } else if (ball <= 40) {
            color = "gray";
          } else {
            color = "green";
          }
          list.innerHTML += `<li class=${color}>${ball}</li>`;
        }
        //innerHTML = <>태그취급 textContent = <>문자취급
        // <ul>
        //   <li>selectedNums[0]</li>
        //   <li>selectedNums[1]</li>
        //   <li>selectedNums[2]</li>
        //   <li>selectedNums[3]</li>
        //   <li>selectedNums[4]</li>
        //   <li>selectedNums[5]</li>
        //   </ul>
      };
      const paper = document.querySelector(".paper");
      const btn = document.querySelectorAll(".btn");
      const list = document.querySelector(".list");
      // vanilla script

      // $(".btn").on("click",function() {
      // })
      // react/vue
      //웹에서는 제이쿼리가 편함
      // btn[i].addEventListener("click", function (e) {
      //   console.log(e.target);
      //   console.log(e.currentTarget);
      // });

      for (let i = 0; i < 5; i++) {
        btn[i].addEventListener("click", function () {
          // btn[i].addEventListener("click", function (e) {
          //   console.log(e.target);
          //   console.log(e.currentTarget); currentTarget은 항상
          //   console.log(e.currentTarget.parentNode); 이벤트가 닿은곳의 부모를 가리킴
          //   console.log(e.currentTarget.nextElementSibling); 이벤트가 닿은곳의 내 오른쪽에 있는것을 가리킴
          //   console.log(e.currentTarget.prevElementSibling); 이벤트가 닿은곳의 내 왼쪽에 있는것을 가리킴
          // });
          //e.currentTarger.classList.add("on"); 이벤트가 닿는곳에 classlist에 add on을한다.
          for (let k = 0; k < 5; k++) {
            if (i === k) {
              btn[k].classList.add("on");
            } else {
              btn[k].classList.remove("on");
            }
          }
          // for (let k = 0; k < 5; k++) {
          //     btn[k].classList.remove("on");
          //   }
          // }
          // btn[0].classList.remove("on");
          // btn[1].classList.remove("on");
          // btn[2].classList.remove("on");
          // btn[3].classList.remove("on");
          // btn[4].classList.remove("on");
          // btn[i].classList.add("on");
          paper.classList.remove("on");
          setTimeout(function () {
            paper.classList.add("on");
          }, 100); //주어진 시간동안 한번만 호출

          list.innerHTML = "";

          for (let j = 0; j < i + 1; j++) {
            makeLotto();
          }
        });
      }
    </script>
  </body>
</html>
